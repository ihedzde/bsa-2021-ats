<div class="interview-add-container">
    <app-spinner [loading]="loading"></app-spinner>
    <h1>Interview creation form</h1>
    <div mat-dialog-actions>
        <mat-icon class="close-dialog" (click)="onFormClose()">close</mat-icon>
    </div>
    
    <div class="form-container">
        <form [formGroup]="interviewCreateForm" (ngSubmit)="onSubmited()">
            <h5 class="required-field">Name</h5>
            <mat-form-field floatLabel="never" [ngClass]="this.interviewCreateForm.controls['name'].dirty && this.interviewCreateForm.controls['name'].errors? 'invalid-input': ''">
                <input matInput type="text" formControlName="name" placeholder="Enter name interview">
            </mat-form-field>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['name'].dirty && this.interviewCreateForm.controls['name'].errors?.required">
                Is required.
            </div>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['name'].dirty && this.interviewCreateForm.controls['name'].errors?.minlength">
                Name must be at least 3 characters long.
            </div>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['name'].dirty && this.interviewCreateForm.controls['name'].errors?.maxlength">
                Name must be not greater than 15 characters long.
            </div>
    
            <h5 class="required-field">Logo</h5>
            <mat-form-field floatLabel="never" [ngClass]="this.interviewCreateForm.controls['logo'].dirty && this.interviewCreateForm.controls['logo'].errors? 'invalid-input': ''">
                <input matInput type="text" formControlName="logo" placeholder="Enter logo link">
            </mat-form-field>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['logo'].dirty && this.interviewCreateForm.controls['logo'].errors?.required">
                Is required.
            </div>
    
            <h5 class="required-field">Description interview</h5>
            <mat-form-field class="wide example-full-width" appearance="fill" [ngClass]="this.interviewCreateForm.controls['description'].dirty && this.interviewCreateForm.controls['description'].errors? 'invalid-input': ''">
                <textarea matInput type="text" formControlName="description" placeholder="Enter text"></textarea>
            </mat-form-field>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['description'].dirty && this.interviewCreateForm.controls['description'].errors?.required">
                Is required.
            </div>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['description'].dirty && this.interviewCreateForm.controls['description'].errors?.minlength">
                Description must be at least 10 characters long.
            </div>
    
            <h5 class="required-field">Team info</h5>
            <mat-form-field class="wide example-full-width" appearance="fill" [ngClass]="this.interviewCreateForm.controls['teamInfo'].dirty && this.interviewCreateForm.controls['teamInfo'].errors? 'invalid-input': ''">
                <textarea matInput type="text" formControlName="teamInfo" placeholder="Enter text"></textarea>
            </mat-form-field>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['teamInfo'].dirty && this.interviewCreateForm.controls['teamInfo'].errors?.required">
                Is required.
            </div>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['teamInfo'].dirty && this.interviewCreateForm.controls['teamInfo'].errors?.minlength">
                Team info must be at least 10 characters long.
            </div>
    
            <h5 class="required-field">Website Link</h5>
            <mat-form-field floatLabel="never" [ngClass]="this.interviewCreateForm.controls['websiteLink'].dirty && this.interviewCreateForm.controls['websiteLink'].errors? 'invalid-input': ''">
                <input matInput type="text" formControlName="websiteLink" placeholder="Enter website link interview">
            </mat-form-field>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['websiteLink'].dirty && this.interviewCreateForm.controls['websiteLink'].errors?.required">
                Is required.
            </div>
            <div class="validation-error" *ngIf="this.interviewCreateForm.controls['websiteLink'].dirty && this.interviewCreateForm.controls['websiteLink'].errors?.url">
                Wrong url format
            </div>

            <!-- <p>Tags</p>
            <app-tags-edit [tags]="interview.tags.tagDtos" (updateTags)="updateTags($event)"></app-tags-edit> -->
            <div>
            <button mat-button mat-dialog-close type="submit" [disabled]="!interviewCreateForm.valid || !this.interviewCreateForm.dirty">Publish</button>
            </div>
        </form>
    </div>
</div>